é—­åŒ…ï¼ˆClosureï¼‰æ˜¯ JS ä¸­è¶…æ ¸å¿ƒçš„æ¦‚å¿µä¹‹ä¸€ï¼Œä¸å…‰æ˜¯é¢è¯•å¸¸è€ƒï¼Œè€Œä¸”åœ¨å®é™…å¼€å‘ä¸­ç”¨å¤„è¶…å¤šï¼

---

## ğŸ§  ä¸€å¥è¯è§£é‡Šé—­åŒ…ï¼š

> **é—­åŒ…å°±æ˜¯ä¸€ä¸ªå‡½æ•°å¯ä»¥â€œè®°ä½â€å®ƒè¢«åˆ›å»ºæ—¶çš„ä½œç”¨åŸŸï¼Œå³ä½¿å®ƒåœ¨å½“å‰ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚**

---

## ğŸ¯ å¸¸è§ä½¿ç”¨åœºæ™¯ï¼ˆè¶…çº§å®ç”¨ï¼‰ï¼š

---

### 1ï¸âƒ£ **æ•°æ®ç§æœ‰åŒ–ï¼ˆæ¨¡æ‹Ÿç§æœ‰å˜é‡ï¼‰**

```js
function createCounter() {
  let count = 0; // ç§æœ‰å˜é‡
  return function () {
    count++;
    return count;
  };
}

const counter = createCounter();
console.log(counter()); // 1
console.log(counter()); // 2
```

âœ… **å¥½å¤„**ï¼š`count` ä¸èƒ½ä»å¤–éƒ¨è®¿é—®ï¼Œåªèƒ½é€šè¿‡ `counter()` æ¥æ“ä½œã€‚

---

### 2ï¸âƒ£ **å°è£…å·¥å…·å‡½æ•° / å·¥å‚å‡½æ•°**

```js
function makeAdder(x) {
  return function (y) {
    return x + y;
  };
}

const add5 = makeAdder(5);
console.log(add5(3)); // 8
console.log(add5(10)); // 15
```

âœ… ä½¿ç”¨é—­åŒ…â€œè®°ä½â€ä¼ å…¥çš„å‚æ•° `x`ï¼Œåˆ›å»ºä¸€ä¸ªå®šåˆ¶ç‰ˆå‡½æ•°ã€‚

---

### 3ï¸âƒ£ **äº‹ä»¶ç›‘å¬å™¨ä¸­ä¿å­˜çŠ¶æ€**

```js
function bindClick() {
  let clicked = 0;
  document.getElementById("btn").addEventListener("click", function () {
    clicked++;
    console.log("Clicked:", clicked);
  });
}
bindClick();
```

âœ… æ¯æ¬¡ç‚¹å‡»åé—­åŒ…å†…éƒ¨çš„ `clicked` éƒ½ä¼šä¿ç•™çŠ¶æ€ï¼Œåƒä¸€ä¸ªå°è®°å¿†ä½“ã€‚

---

### 4ï¸âƒ£ **å®šæ—¶å™¨ã€å¼‚æ­¥ä»»åŠ¡ä¸­ä¿ç•™å˜é‡**

```js
for (var i = 0; i < 3; i++) {
  setTimeout(function () {
    console.log(i);
  }, 1000);
}
// è¾“å‡ºï¼š3 3 3ï¼ˆéé¢„æœŸï¼‰

// æ”¹æˆé—­åŒ…
for (var i = 0; i < 3; i++) {
  (function (j) {
    setTimeout(function () {
      console.log(j);
    }, 1000);
  })(i);
}
// è¾“å‡ºï¼š0 1 2ï¼ˆé¢„æœŸï¼‰
```

âœ… é—­åŒ…æ•è·æ¯æ¬¡å¾ªç¯çš„ `i` å€¼ï¼Œé¿å…å€¼è¢«åç»­è¦†ç›–ã€‚

---

### 5ï¸âƒ£ **Vueã€React ä¸­å¸¸è§åœºæ™¯ï¼š**

- ä¿å­˜ç»„ä»¶å±€éƒ¨çŠ¶æ€
- å°è£…è‡ªå®šä¹‰ hooksï¼ˆReactï¼‰
- é«˜é˜¶å‡½æ•°å¤„ç†å™¨ï¼ˆå¦‚èŠ‚æµã€é˜²æŠ–ï¼‰
- åˆ©ç”¨é—­åŒ…åˆ›å»ºç¼“å­˜ï¼ˆè®°å¿†åŒ–ï¼‰

---

### 6ï¸âƒ£ **ç¼“å­˜ç»“æœï¼Œæå‡æ€§èƒ½ï¼ˆè®°å¿†åŒ–å‡½æ•°ï¼‰**

```js
function memoizedAdd() {
  const cache = {};

  return function (n) {
    if (n in cache) {
      return cache[n];
    } else {
      cache[n] = n + 10;
      return cache[n];
    }
  };
}

const add = memoizedAdd();
console.log(add(5)); // 15ï¼ˆè®¡ç®—ï¼‰
console.log(add(5)); // 15ï¼ˆç¼“å­˜ï¼‰
```

âœ… é—­åŒ…ç»´æŠ¤ä¸€ä¸ªç¼“å­˜å¯¹è±¡ï¼Œå®ç°å‡½æ•°ç»“æœå¤ç”¨ã€‚

---

## âœ… æ€»ç»“ï¼š

| åœºæ™¯         | ä½œç”¨                       |
| ------------ | -------------------------- |
| æ¨¡æ‹Ÿç§æœ‰å˜é‡ | å°è£…å†…éƒ¨çŠ¶æ€ï¼Œé˜²æ­¢å¤–éƒ¨è®¿é—® |
| å·¥å‚å‡½æ•°     | è¿”å›å®šåˆ¶å‡½æ•°ï¼Œè®°ä½å‚æ•°     |
| ä¿æŒå¼‚æ­¥çŠ¶æ€ | é˜²æ­¢å˜é‡è¢«è¦†ç›–             |
| èŠ‚æµ / é˜²æŠ–  | å‡½æ•°å†…éƒ¨ä¿å­˜è®¡æ—¶å™¨å˜é‡     |
| ç¼“å­˜å‡½æ•°     | å‡å°‘é‡å¤è®¡ç®—ï¼Œæé«˜æ€§èƒ½     |
